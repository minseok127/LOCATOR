--
-- The tables are created with hidden attributes by USING HAP
-- HAP: Hidden Attribute Partitioning
--

--
-- Name: warehouse; Type: TABLE; Schema: public; 
--
CREATE TABLE WAREHOUSE (
    W_ID INTEGER NOT NULL, 
    W_NAME CHARACTER VARYING(10) NOT NULL, 
    W_STREET_1 CHARACTER VARYING(20) NOT NULL, 
    W_STREET_2 CHARACTER VARYING(20) NOT NULL, 
    W_CITY CHARACTER VARYING(20) NOT NULL, 
    W_STATE CHARACTER(2) NOT NULL, 
    W_ZIP CHARACTER(9) NOT NULL, 
    W_TAX NUMERIC(4,4) NOT NULL, 
    W_YTD NUMERIC(12,2) NOT NULL, 
    CONSTRAINT WAREHOUSE_I1 PRIMARY KEY (W_ID)) USING HAP;

--
-- Name: district; Type: TABLE; Schema: public; 
--
CREATE TABLE DISTRICT (
    D_W_ID INTEGER NOT NULL, 
    D_NEXT_O_ID INTEGER NOT NULL, 
    D_ID SMALLINT NOT NULL, 
    D_YTD NUMERIC(12,2) NOT NULL, 
    D_TAX NUMERIC(4,4) NOT NULL, 
    D_NAME CHARACTER VARYING(10) NOT NULL, 
    D_STREET_1 CHARACTER VARYING(20) NOT NULL, 
    D_STREET_2 CHARACTER VARYING(20) NOT NULL, 
    D_CITY CHARACTER VARYING(20) NOT NULL, 
    D_STATE CHARACTER(2) NOT NULL, 
    D_ZIP CHARACTER(9) NOT NULL, 
    CONSTRAINT DISTRICT_I1 PRIMARY KEY (D_W_ID, D_ID), 
    CONSTRAINT DISTRICT_F1 FOREIGN KEY (D_W_ID) REFERENCES WAREHOUSE (W_ID)) USING HAP;

--
-- Name: customer; Type: TABLE; Schema: public; 
--
CREATE TABLE CUSTOMER (
    C_SINCE TIMESTAMP WITH TIME ZONE NOT NULL, 
    C_ID INTEGER NOT NULL, 
    C_W_ID INTEGER NOT NULL, 
    C_D_ID SMALLINT NOT NULL, 
    C_PAYMENT_CNT SMALLINT NOT NULL, 
    C_DELIVERY_CNT SMALLINT NOT NULL, 
    C_FIRST CHARACTER VARYING(16) NOT NULL, 
    C_MIDDLE CHARACTER(2) NOT NULL, 
    C_LAST CHARACTER VARYING(16) NOT NULL, 
    C_STREET_1 CHARACTER VARYING(20) NOT NULL, 
    C_STREET_2 CHARACTER VARYING(20) NOT NULL, 
    C_CITY CHARACTER VARYING(20) NOT NULL, 
    C_STATE CHARACTER(2) NOT NULL, 
    C_ZIP CHARACTER(9) NOT NULL, 
    C_PHONE CHARACTER(16) NOT NULL, 
    C_CREDIT CHARACTER(2) NOT NULL, 
    C_CREDIT_LIM NUMERIC(12,2) NOT NULL, 
    C_DISCOUNT NUMERIC(4,4) NOT NULL, 
    C_BALANCE NUMERIC(12,2) NOT NULL, 
    C_YTD_PAYMENT NUMERIC(12,2) NOT NULL, 
    C_DATA CHARACTER VARYING(500) NOT NULL,
    C_NATIONKEY INTEGER NOT NULL,
    CONSTRAINT CUSTOMER_I1 PRIMARY KEY (C_W_ID, C_D_ID, C_ID), 
    CONSTRAINT CUSTOMER_F1 FOREIGN KEY (C_W_ID, C_D_ID) REFERENCES DISTRICT (D_W_ID, D_ID),
    CONSTRAINT CUSTOMER_F2 FOREIGN KEY (C_NATIONKEY) REFERENCES NATION (N_NATIONKEY)) USING HAP;

--
-- Name: history; Type: TABLE; Schema: public; 
--
CREATE TABLE HISTORY (
    H_DATE TIMESTAMP WITH TIME ZONE NOT NULL, 
    H_C_ID INTEGER, 
    H_C_W_ID INTEGER NOT NULL, 
    H_W_ID INTEGER NOT NULL, 
    H_C_D_ID SMALLINT NOT NULL, 
    H_D_ID SMALLINT NOT NULL, 
    H_AMOUNT NUMERIC(6,2) NOT NULL, 
    H_DATA CHARACTER VARYING(24) NOT NULL, 
    CONSTRAINT HISTORY_F1 FOREIGN KEY (H_C_W_ID, H_C_D_ID, H_C_ID) REFERENCES CUSTOMER (C_W_ID, C_D_ID, C_ID), 
    CONSTRAINT HISTORY_F2 FOREIGN KEY (H_W_ID, H_D_ID) REFERENCES DISTRICT (D_W_ID, D_ID));

--
-- Name: item; Type: TABLE; Schema: public; 
--
CREATE TABLE ITEM (
    I_ID INTEGER NOT NULL, 
    I_IM_ID INTEGER NOT NULL, 
    I_NAME CHARACTER VARYING(24) NOT NULL,
    I_PRICE NUMERIC(5,2) NOT NULL, 
    I_DATA CHARACTER VARYING(50) NOT NULL,
    I_BRAND CHARACTER(10) NOT NULL,
    CONSTRAINT ITEM_I1 PRIMARY KEY (I_ID)) USING HAP;

--
-- Name: stock; Type: TABLE; Schema: public; 
--
CREATE TABLE STOCK (
    S_I_ID INTEGER NOT NULL, 
    S_W_ID INTEGER NOT NULL, 
    S_YTD INTEGER NOT NULL, 
    S_QUANTITY SMALLINT NOT NULL, 
    S_ORDER_CNT SMALLINT NOT NULL, 
    S_REMOTE_CNT SMALLINT NOT NULL, 
    S_DIST_01 CHARACTER(24) NOT NULL, 
    S_DIST_02 CHARACTER(24) NOT NULL, 
    S_DIST_03 CHARACTER(24) NOT NULL, 
    S_DIST_04 CHARACTER(24) NOT NULL, 
    S_DIST_05 CHARACTER(24) NOT NULL, 
    S_DIST_06 CHARACTER(24) NOT NULL, 
    S_DIST_07 CHARACTER(24) NOT NULL, 
    S_DIST_08 CHARACTER(24) NOT NULL, 
    S_DIST_09 CHARACTER(24) NOT NULL, 
    S_DIST_10 CHARACTER(24) NOT NULL, 
    S_DATA CHARACTER VARYING(50) NOT NULL,
    S_SUPPKEY INTEGER NOT NULL,
    CONSTRAINT STOCK_I1 PRIMARY KEY (S_I_ID, S_W_ID), 
    CONSTRAINT STOCK_F1 FOREIGN KEY (S_W_ID) REFERENCES WAREHOUSE (W_ID), 
    CONSTRAINT STOCK_F2 FOREIGN KEY (S_I_ID) REFERENCES ITEM (I_ID),
    CONSTRAINT STOCK_F3 FOREIGN KEY (S_SUPPKEY) REFERENCES SUPPLIER (SU_SUPPKEY)) USING HAP;

--
-- Name: orders; Type: TABLE; Schema: public; 
--
CREATE TABLE ORDERS (
    O_ENTRY_D TIMESTAMP WITH TIME ZONE NOT NULL, 
    O_ID INTEGER NOT NULL, 
    O_W_ID INTEGER NOT NULL, 
    O_C_ID INTEGER NOT NULL, 
    O_D_ID SMALLINT NOT NULL, 
    O_CARRIER_ID SMALLINT, 
    O_OL_CNT SMALLINT NOT NULL, 
    O_ALL_LOCAL SMALLINT NOT NULL, 
    CONSTRAINT ORDERS_I1 PRIMARY KEY (O_W_ID, O_D_ID, O_ID), 
    CONSTRAINT ORDERS_F1 FOREIGN KEY (O_W_ID, O_D_ID, O_C_ID) REFERENCES CUSTOMER (C_W_ID, C_D_ID, C_ID)) USING HAP;

--
-- Name: order_line; Type: TABLE; Schema: public; 
--
CREATE TABLE ORDER_LINE (
    OL_DELIVERY_D TIMESTAMP WITH TIME ZONE, 
    OL_O_ID INTEGER NOT NULL, 
    OL_W_ID INTEGER NOT NULL, 
    OL_I_ID INTEGER NOT NULL, 
    OL_SUPPLY_W_ID INTEGER NOT NULL, 
    OL_D_ID SMALLINT NOT NULL, 
    OL_NUMBER SMALLINT NOT NULL, 
    OL_QUANTITY SMALLINT NOT NULL, 
    OL_AMOUNT NUMERIC(6,2), 
    OL_DIST_INFO CHARACTER(24), 
    CONSTRAINT ORDER_LINE_I1 PRIMARY KEY (OL_W_ID, OL_D_ID, OL_O_ID, OL_NUMBER), 
    CONSTRAINT ORDER_LINE_F1 FOREIGN KEY (OL_W_ID, OL_D_ID, OL_O_ID) REFERENCES ORDERS (O_W_ID, O_D_ID, O_ID), 
    CONSTRAINT ORDER_LINE_F2 FOREIGN KEY (OL_SUPPLY_W_ID, OL_I_ID) REFERENCES STOCK (S_W_ID, S_I_ID)) USING HAP;


--
-- Name: new_order; Type: TABLE; Schema: public; 
--
CREATE TABLE NEW_ORDER (
    NO_W_ID INTEGER NOT NULL, 
    NO_O_ID INTEGER NOT NULL, 
    NO_D_ID SMALLINT NOT NULL, 
    CONSTRAINT NEW_ORDER_I1 PRIMARY KEY (NO_W_ID, NO_D_ID, NO_O_ID),
    CONSTRAINT NEW_ORDER_F1 FOREIGN KEY (NO_W_ID, NO_D_ID, NO_O_ID) REFERENCES ORDERS (O_W_ID, O_D_ID, O_ID));
